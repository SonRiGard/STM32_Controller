I used stm with library HAL creat controller for drone. Can use it for another divice.
The value sent is the value of the 4 resistors. And a verification code whether the value was sent correctly from this device (avoid the possibility of being hacked)   Txdata[0]=0x1111;Txdata[1]=0x2222



<p align="center">
  <img src="https://github.com/SonRiGard/STM32_Controller/blob/master/controller.jpg" width="350" title="hover text">
  <img src="https://github.com/SonRiGard/STM32_Controller/blob/master/controller.jpg" width="350" alt="accessibility text">
</p>
